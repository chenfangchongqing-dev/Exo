<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>U2 · Grammaire — L’imparfait & le passé composé (2)</title>
<style>
  :root{--ink:#1f2937;--muted:#64748b;--bg:#f6f8fb;--line:#cbd5e1;--brand:#2f5580;}
  html,body{margin:0;background:var(--bg);color:var(--ink);font-family:ui-sans-serif,system-ui,Arial;}
  .wrap{max-width:960px;margin:28px auto 64px;padding:0 16px;}
  a.back{display:inline-block;margin-bottom:8px;text-decoration:none;color:#2b6be0}
  h1{font-size:20px;margin:0 0 12px;}
  .card{background:#fff;border:1px solid #e2e8f0;border-radius:10px;box-shadow:0 2px 8px rgba(0,0,0,.05);padding:18px;}
  .txt{line-height:1.8;font-size:16px;}
  input.blank{min-width:120px;font-size:16px;padding:6px 8px;margin:0 4px;border:1px solid #cbd5e1;border-radius:6px;outline:none;}
  input.blank.ok{background:#dcfce7;border-color:#86efac;}
  input.blank.err{background:#fee2e2;border-color:#fecaca;}
  .tools{display:flex;gap:10px;flex-wrap:wrap;margin-top:16px;}
  button{background:var(--brand);color:#fff;border:0;border-radius:10px;padding:8px 14px;cursor:pointer;}
  button.secondary{background:#e5e7eb;color:#111;}
  .hint{color:var(--muted);font-size:13px;margin-top:8px;}
  .ex{color:#16a34a;font-weight:700;}
</style>
</head>
<body>
<div class="wrap">
  <a class="back" href="/Exo/Grammaire/">← 返回语法目录</a>
  <h1>Lisez le témoignage de Sessou. Conjuguez les verbes au <i>passé composé</i> ou à l’<i>imparfait</i>.</h1>

  <div class="card">
    <div class="txt">
      <b>J’<span class="ex">ai quitté</span></b> (quitter) mon pays le Soudan quand j’ 
      <input class="blank" data-answer="avais" placeholder="..." /> (avoir) 15 ans. 
      La vie <input class="blank" data-answer="était" placeholder="..." /> (être) difficile. 
      Un jour, ma famille <input class="blank" data-answer="m’a demandé|a demandé" placeholder="..." /> (me demander) de partir. 
      J’ <input class="blank" data-answer="ai fait" placeholder="..." /> (faire) la traversée de la Méditerranée sur un bateau. 
      Il y <input class="blank" data-answer="avait" placeholder="..." /> (avoir) beaucoup de migrants et le bateau était petit. 
      Nous <input class="blank" data-answer="étions" placeholder="..." /> (être) très inquiets, mais on ne 
      <input class="blank" data-answer="pouvait" placeholder="..." /> (pouvoir) rien faire, il 
      <input class="blank" data-answer="fallait" placeholder="..." /> (falloir) être courageux. 
      Pendant les premiers mois en France, j’ <input class="blank" data-answer="avais toujours peur" placeholder="..." /> (avoir toujours peur) d’être expulsé parce que je ne 
      <input class="blank" data-answer="parlais" placeholder="..." /> (parler) pas français et je 
      <input class="blank" data-answer="me cachais" placeholder="..." /> (se cacher) toute la journée. 
      Je <input class="blank" data-answer="dormais" placeholder="..." /> (dormir). 
      Il y a un an, grâce à une association, j’ <input class="blank" data-answer="ai pu" placeholder="..." /> (pouvoir) aller dans une famille d’accueil et j’ 
      <input class="blank" data-answer="ai commencé" placeholder="..." /> (commencer) une formation professionnelle. 
      J’espère que je serai bientôt régularisé !
    </div>

    <div class="tools">
      <button id="verify">Vérifier</button>
      <button id="reset" class="secondary">Réinitialiser</button>
    </div>
    <div class="hint">说明：答案区分时态与助动词（含反身动词变位与过去分词配合）；不区分大小写与引号形式。</div>
  </div>
</div>

<script>
  const blanks = Array.from(document.querySelectorAll('.blank'));
  const norm = s => (s||"").trim().toLowerCase().replaceAll("’","'").replace(/\s+/g," ");
  function checkOne(input){
    const answers = input.dataset.answer.split("|").map(norm);
    const val = norm(input.value);
    const ok = answers.includes(val);
    input.classList.toggle('ok', ok);
    input.classList.toggle('err', !ok && val.length>0);
  }
  function verifyAll(){ blanks.forEach(checkOne); }
  function resetAll(){ blanks.forEach(i=>{i.value=""; i.classList.remove('ok','err');}); }
  document.getElementById('verify').onclick = verifyAll;
  document.getElementById('reset').onclick = resetAll;
</script>
</body>
</html>
